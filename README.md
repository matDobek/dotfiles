# Preview

![image](https://github.com/matDobek/dotfiles/assets/4257729/f536bc33-a477-438c-8cac-338bc6e87725)
![image](https://github.com/matDobek/dotfiles/assets/4257729/fb38ee52-d13c-4cde-8b20-f36e19c109a6)
![image](https://github.com/matDobek/dotfiles/assets/4257729/e20c9e1f-c838-46d9-a894-2df0fa5dcc01)
![image](https://github.com/matDobek/dotfiles/assets/4257729/2234b170-68fb-4b86-8a46-3fad461f3829)


# Post Installation

## nvim

```
:PlugInstall
:UpdateRemotePlugins
```
## ssh

```
ssh-keygen -t ed25519 -C "sample@sample.com"
ssh-add ~/.ssh/id_rsa

# you may need to start agent
eval "$(ssh-agent)"
```

## gpg

```
gpg --full-generate-key
gpg --list-secret-keys --keyid-format LONG
# ID can be found in: sec   rsa4096/ID 2020-01-01 [SC]
gpg --armor --export ID
```

## mouse profiles

```
# ratbag

ratbagctl list
ratbagctl 0 info
ratbagctl 0 dpi get
ratbagctl 0 dpi set N

```

# Common Issues

## Useful comands

```
vim .Xresources && xrdb ~/.Xresources
```

## xkb layout

Initial file can be generated by:

```
setxkbmap -print > layout.xkb
```

To find key codes:
```
xev -event keyboard
```

To load layout into X window server:

```
xkbcomp layout.xkb $DISPLAY
```

Setting polish layout manually:

```
setxkbmap pl
```

Testing different settings:

```
xset r rate 250 30         # set type delay manually
xset m 1 1                 # set mouse parameters
xset m default             # default settings
xset q | grep -A 1 Pointer # get current values
```

## Mouse Sensitivity

I've run into some issues when using `xset m x y`.
Solved with:

```
# https://wiki.archlinux.org/title/Mouse_acceleration

xinput
xinput --list-props ID/NAME
xinput --set-prop "Logitech Gaming Mouse G600" "libinput Accel Speed" -0.9
```

## Adjusting Time

If you have dual boot installed, you may run into issues with time. Here's how to solve them on Linux end.

```
timedatectl list-timezones | grep Warsaw
timedatectl set-timezone Europe/Warsaw

timedatectl set-local-rtc 1 --adjust-system-clock
```

Check if

```
timedatectl
```

outputs proper time.

## Sound

```
alsamixer
pulse
```

## Camera

```
sudo pacman -Syu base-devel linux-headers git
sudo pacman -S gphoto2 v4l2loopback-utils v4l2loopback-dkms ffmpeg

lsusb | grep Fuji # device connected

sudo modprobe v4l2loopback video_nr=2 card_label="Fujicam" exclusive_caps=1
gphoto2 --stdout --capture-movie | ffmpeg -i - -vcodec rawvideo -pix_fmt yuv420p -f v4l2 /dev/video2
```

##  popups

```
GDK_BACKEND=x11 /usr/lib/xdg-desktop-portal-gtk
```
